<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">

<head>
  <style>
    /* 안정적인 레이아웃 */
    *, *::before, *::after { box-sizing: border-box; }

    /* 공통 패널 */
    .panel { background:#fff; border:1px solid #cfcfd4; border-radius:4px; }
    .panel-title {
      display:flex; justify-content:space-between; align-items:center;
      /* 버튼 유무와 상관없이 동일한 높이 보장 */
      height:48px;                /* ← 고정 높이 */
      padding:0 12px;             /* ← 수직 패딩 제거 */
      border-bottom:1px solid #dcdcdc;
      background:#f5f5f5;
      font-weight:700;
    }
    .panel-title .title { font-size:16px; }
    .panel-title .actions { display:flex; align-items:center; gap:8px; }
    .panel-title .actions .btn {
      /* 타이틀 바 안에 들어가는 버튼 규격 통일 */
      height:32px;                /* ← 버튼 높이 고정 */
      padding:0 12px;             /* ← 수직 패딩 0 */
      line-height:32px;           /* ← 텍스트 수직 가운데 */
      margin:0;                   /* ← 여백으로 인한 높이 변동 방지 */
    }

    /* 구독 정보 */
    .subs-form { padding:12px; }
    .fg { display:flex; flex-direction:column; margin-bottom:10px; }
    .fg label { font-size:14px; margin-bottom:6px; font-weight:700; }
    .fg input { height:38px; border:1px solid #c8c8c8; border-radius:4px; padding:6px 10px; }
    .grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px 20px; }

    /* 구독 내역 테이블 */
    .subs-table { width:100%; border-collapse:collapse; }
    .subs-table th, .subs-table td { border:1px solid #ddd; padding:10px; }
    .subs-table thead th { background:#f7f7f7; }

    /* 페이지네이션(샘플) */
    .subs-pagination { display:flex; justify-content:center; gap:6px; padding:10px 0; }
    .subs-pagination a {
      display:inline-block; padding:4px 10px; border:1px solid #ddd; border-radius:4px;
      text-decoration:none; color:#333;
    }
    .subs-pagination a.active { background:#0d6efd; color:#fff; border-color:#0d6efd; }
  </style>
</head>

<body layout:fragment="content">
<div id="layoutSidenav_content">
  <main>
    <div class="container-fluid px-4">
      <h1 class="mt-4">사용자 관리</h1>

      <!-- 상단 검색 + 신규 -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <button class="btn btn-primary">신규</button>
        <div class="d-flex gap-2">
          <input type="text" class="form-control" placeholder="사원번호" style="width:120px;">
          <button class="btn btn-outline-secondary"><i class="fa fa-search"></i></button>
          <select class="form-select" style="width:100px;">
            <option>부서</option>
          </select>
          <select class="form-select" style="width:100px;">
            <option>사용여부</option>
          </select>
          <button class="btn btn-warning">검색</button>
        </div>
      </div>

      <!-- 사용자 목록 테이블 -->
      <table class="table table-bordered table-hover text-center align-middle">
        <thead class="table-light">
          <tr>
            <th><input type="checkbox"></th>
            <th>사원번호</th>
            <th>성명</th>
            <th>아이디</th>
            <th>부서명</th>
            <th>권한</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="checkbox"></td>
            <td>001</td>
            <td>박효준</td>
            <td>gywns1</td>
            <td>회계</td>
            <td>마스터 관리자</td>
          </tr>
          <tr>
            <td><input type="checkbox"></td>
            <td>002</td>
            <td>홍길동</td>
            <td>hong1</td>
            <td>영업</td>
            <td>일반 관리자</td>
          </tr>
          <tr>
            <td><input type="checkbox"></td>
            <td>003</td>
            <td>김길동</td>
            <td>kim1</td>
            <td>인사</td>
            <td>일반 사용자</td>
          </tr>
        </tbody>
      </table>

      <!-- 페이징 -->
      <div class="d-flex justify-content-center">
        <nav>
          <ul class="pagination">
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">...</a></li>
          </ul>
        </nav>
      </div>

      <!-- 구독 정보 + 구독 내역 -->
      <div class="d-flex mt-3">
        <!-- 구독 정보 -->
        <section class="panel me-2" style="flex:1;">
          <div class="panel-title">
            <span class="title">구독 정보</span>
            <div class="actions"><!-- 좌측은 버튼 없음, 높이 동일 --></div>
          </div>
          <div class="subs-form">
            <div class="fg">
              <label>회사코드</label>
              <input type="text" value="123-001" readonly>
            </div>

            <div class="grid-2">
              <div class="fg">
                <label>사업자 등록번호</label>
                <input type="text" value="123-45-67890">
              </div>
              <div class="fg">
                <label>회사명</label>
                <input type="text" value="OO주식회사">
              </div>
            </div>

            <div class="grid-2">
              <div class="fg">
                <label>주소</label>
                <input type="text" value="대구광역시 북구">
              </div>
              <div class="fg">
                <label>담당자명</label>
                <input type="text" value="박효준">
              </div>
            </div>

            <div class="grid-2">
              <div class="fg">
                <label>담당자 연락처</label>
                <input type="text" value="010-1234-5678">
              </div>
              <div class="fg">
                <label>담당자 이메일</label>
                <input type="text" value="example@company.com">
              </div>
            </div>
          </div>
        </section>

        <!-- 구독 내역 -->
        <section class="panel" style="flex:1;">
          <div class="panel-title">
            <span class="title">구독 내역</span>
            <div class="actions">
              <button type="button" class="btn btn-secondary">인쇄</button>
            </div>
          </div>
          <div style="padding:12px">
            <table class="subs-table">
              <thead>
                <tr>
                  <th style="width:40px;"></th>
                  <th>구독기간</th>
                  <th>시작일자</th>
                  <th>만기일자</th>
                  <th>가격 (원)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><input type="checkbox"></td>
                  <td>12개월</td>
                  <td>2025-09-16</td>
                  <td>2026-09-16</td>
                  <td style="text-align:right;">360,000</td>
                </tr>
              </tbody>
            </table>
            <div class="subs-pagination">
              <a href="#">◀</a>
              <a class="active" href="#">1</a>
              <a href="#">2</a>
              <a href="#">3</a>
              <a href="#">…</a>
              <a href="#">▶</a>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>
</div>

<!-- 공통 모달 -->
<div th:replace="common/modal :: commonModal"></div>
</body>
</html>
